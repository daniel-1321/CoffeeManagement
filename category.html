<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Category</title>
    <link rel="stylesheet" href="assets/styles/font-awesome.min.css">
    <link rel="stylesheet" href="assets/styles/style.css">
    <link rel="stylesheet" href="assets/styles/bootstrap.min.css">
    <script src="assets/script/jquery-3.4.1.min.js"></script>
    <script src="assets/script/vue.js"></script>
    <script src="assets/script/vue-resource.min.js"></script>
    <script src="assets/script/axios.min.js"></script>
    <script src="js/sglab.js"></script>
    
</head>

<body>
    <div id="header">
        <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="index.html">
                <img src="assets/images/logo.png" width="30" height="30" class="d-inline-block align-top" alt=""> Coffee
                Shop
            </a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="product.html">Product</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="news.html">News</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="customer.html">Customer</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="employee.html">Employee</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="category.html">Category</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="bill.html">Bill</a>
                    </li>
            </div>
            <div class="form-inline my-2 my-lg-0 ml-auto">
                <button type="button" class="btn btn-outline-success my-2 my-sm-0" data-toggle="modal"
                    data-target="#exampleModal"><i class="fa fa-user-circle-o" aria-hidden="true"></i> Account</button>
            </div>
        </nav>
    </div>
    <div class="container" id="category">
        <h1 class="lead text-center font-weight-bolder display-4">CATEGORY LIST</h1>

        <table class="table table-bordered w-50 m-auto" id="tblCategory">
            <thead>
                <tr>
                    <th colspan="3" class="text-right"><button @click="addCategory" class="btn btn-success"><i class="fa fa-plus-circle" aria-hidden="true"></i> Add New</button></th>
                </tr>
                <tr>
                    <th>#</th>
                    <th>Name</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="category in categoryList" :key="category.cat_id">
                    <td width="10%" class="text-center">{{category.cat_id}}</td>
                    <td>{{category.cat_name}}</td>
                    <td class="text-center w-25">
                        <button class="btn btn-primary" @click="editCategory(category)"><i class="fa fa-edit"></i></button>
                        <button class="btn btn-danger" @click="deleteCategory(category)"><i class="fa fa-trash"></i></button>
                    </td>
                </tr>
            </tbody>
        </table>
        <!-- Modal --> 
        <div class="modal fade" id="category-modal"   tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modal-title"></h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div v-if="modal == 'add'" class="modal-body">
                        <input required type="text" name='name' class="form-control" v-model="category.cat_name" placeholder="Enter new category" @keyup.enter="addNew">
                    </div>
                    <div v-if="modal == 'edit'" class="modal-body">
                        <label for="" disabled>Category ID : {{editCat.cat_id}}</label>
                        <input type="text" class="form-control" v-model="editCat.cat_name">
                    </div>
                    <div v-if="modal == 'delete'" class="modal-body">
                        <p>Do you want to delete '<strong>{{category.cat_name}}</strong>' category?</p>
                    </div>
                    <div class="modal-footer">
                        <button @click="updateCategory(category)" v-if="modal == 'edit'" type="button" class="btn btn-primary"><i class="fa fa-floppy-o" aria-hidden="true"></i> Save</button>
                        <button @click="removeCategory(category)" v-if="modal == 'delete'" type="button" class="btn btn-danger">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/script/jquery-3.4.1.min.js"></script>
    <script src="assets/script/vee-validate.js"></script>
    <script src="js/category/category.js"></script>
    <script src="assets/script/bootstrap.min.js"></script>
    <script src="assets/script/popper.min.js"></script>
    <script src="assets/script/smooth-scroll.js"></script>
</body>

</html>